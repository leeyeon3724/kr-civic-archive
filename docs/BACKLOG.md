# Backlog

이 문서는 앞으로 진행할 작업만 관리합니다.

## 운영 원칙

- 완료 항목은 이 문서에 남기지 않습니다.
- 완료 이력은 기본적으로 `git log`로 관리합니다.
- 릴리스 노트가 필요한 변경은 `docs/CHANGELOG.md`에 기록합니다.
- 각 항목은 상태(`Planned`, `In Progress`, `Blocked`)를 명시합니다.

## 현재 백로그

### P1. 정책 스크립트 단위 테스트 보강

- 상태: `Planned`
- 목표: 정책 검증 스크립트의 회귀 탐지력을 높입니다.
- 작업:
  - [ ] `scripts/check_version_consistency.py` 단위 테스트 추가
  - [ ] `scripts/check_slo_policy.py` 단위 테스트 보강
  - [ ] 실패 메시지/exit code 계약 테스트 추가
- 완료 기준:
  - [ ] 관련 스크립트 변경 시 테스트만으로 회귀를 탐지할 수 있음
  - [ ] `docs/QUALITY_GATES.md`와 검증 경로가 일치함

### P2. 운영 런북 시나리오 템플릿 강화

- 상태: `Planned`
- 목표: 장애 대응 시 의사결정 시간을 줄일 수 있도록 실행 템플릿을 표준화합니다.
- 작업:
  - [ ] `docs/OPERATIONS.md`에 장애 유형별 템플릿 추가 (DB, Redis, 배포, 과부하)
  - [ ] 각 시나리오에 공통 필수 수집 항목 정의 (`영향`, `원인`, `임시조치`, `복구검증`)
  - [ ] 인시던트 종료 후 `CHANGELOG` 반영 기준을 운영 기준과 일치시키기
- 완료 기준:
  - [ ] 온콜 담당자가 문서만으로 기본 대응 경로를 재현할 수 있음
  - [ ] SEV 수준별 보고 템플릿이 문서화되어 있음

### P3. 성능 릴리스 리포트 자동화

- 상태: `Planned`
- 목표: 성능 민감 변경 시 릴리스 판단에 필요한 지표를 자동 수집합니다.
- 작업:
  - [ ] `scripts/benchmark_queries.py` 결과를 요약 포맷(JSON/Markdown)으로 출력
  - [ ] baseline 대비 delta 계산 로직을 스크립트에 추가
  - [ ] 릴리스 노트 템플릿과 출력 포맷을 맞추기
- 완료 기준:
  - [ ] 성능 변경 PR에서 수동 계산 없이 delta를 바로 확인 가능
  - [ ] `docs/PERFORMANCE.md` 템플릿과 실행 결과가 일관됨

### P4. 문서-실행 환경 정합성 복구

- 상태: `In Progress`
- 목표: 문서의 실행 가이드를 실제 운영/개발 환경과 일치시켜 초기 설정 실패를 제거합니다.
- 작업:
  - [ ] 루트에 `.env.example`을 생성하고 `docs/ENV.md`의 변수 목록과 동기화
  - [ ] `README.md` 및 `docs/ENV.md`의 환경 설정 절차를 `.env.example` 기반으로 재정리
  - [ ] `.env.example` 존재 여부를 점검하는 문서/체크 스크립트 또는 CI 체크 추가
  - [ ] 환경 파일 누락 시 발생 가능한 온보딩 장애 시나리오를 재현하는 통합 테스트 추가
- 완료 기준:
  - [ ] 신규 클론 기준 환경 부트스트랩에서 누락으로 인한 시작 실패가 사라짐
  - [ ] 문서-환경 변수 점검 항목이 CI 기본 게이트의 검증 항목으로 편입됨

### P5. 문서 정책-운영 가드 일치성 강화

- 상태: `In Progress`
- 목표: 보안/품질/운영 정책 문서 간 모순을 제거하고 단일 기준으로 통합합니다.
- 작업:
  - [ ] `docs/CONTRIBUTING.md`의 보안 요구사항을 `docs/QUALITY_GATES.md`와 일치
  - [ ] `DEBUG`, `SECURITY_STRICT_MODE`, `APP_ENV=production` 동작 설명을 `docs/API.md`, `docs/ENV.md`, `docs/ARCHITECTURE.md`에서 정합화
  - [ ] 운영/릴리스 가드 체크 항목(체크스킴, 문맥별 실행 순서)을 통합 정책 문서로 정리
  - [ ] 정책 변경 시 리뷰 체크리스트에 반영되도록 템플릿 보강
- 완료 기준:
  - [ ] 정책 문서 간 동작 정의가 서로 충돌하지 않음
  - [ ] 문서 변경 시 누락 검증이 자동 점검되거나 코드 리뷰에서 즉시 검출됨

### P6. 핵심 품질 지표 체계 수립 (성능·안정성·신뢰성·유지보수성)

- 상태: `In Progress`
- 목표: 정량 지표 기반으로 리팩토링 우선순위를 제어 가능한 형태로 운영합니다.
- 작업:
  - [ ] 성능 지표 정의
    - [ ] `/api/news`, `/api/minutes`, `/api/segments` 목록 조회 p95/성능 회귀 임계치
    - [ ] ingest 지연, 배치 처리량, DB 쿼리 횟수 및 응답 패턴 표준화
  - [ ] 안정성 지표 정의
    - [ ] 5xx/4xx 비율 경보 임계치
    - [ ] `rate_limit_backend` 비정상 시 fallback 동작 점검 기준
    - [ ] readiness 실패율 및 치유 시간(MTTR) 측정 기준
  - [ ] 신뢰성 지표 정의
    - [ ] `/health/live`, `/health/ready` 성공율 SLA
    - [ ] 요청 오작동 시 X-Request-Id 보존 및 추적 완결성
  - [ ] 유지보수성 지표 정의
    - [ ] 타입/테스트/도큐먼트 커버리지 기준 및 누적 추적 규칙
    - [ ] 정책 스크립트 회귀 탐지 시간(테스트 실패 회복 시간) 기준
- 완료 기준:
  - [ ] `docs` 하위에 지표 정의 문서가 작성되고 주기적으로 업데이트됨
  - [ ] 지표 기반 리팩토링 우선순위 결정이 PR 검토 템플릿에 반영됨

### P7. 코드 리팩토링 실행 항목

- 상태: `In Progress`
- 목표: 위 지표에서 도출된 병목·리스크 지점을 코드 수준으로 해결합니다.
- 작업:
  - [ ] 조회 필터/페이징 파라미터 전처리(날짜/문자열 타입) 공통화로 안정성·일관성 향상
  - [ ] 검색/필터 쿼리에서 불필요한 변환 및 중복 조건 제거
  - [ ] `check_runtime_health.py`, 레디니스/헬스케어 테스트로 장애 모드 커버리지 확대
  - [ ] rate-limit/auth/예외 처리 경로에서 에러 세부 구조 통일 및 회귀 테스트 확대
  - [ ] 관측성 라벨/메트릭의 경로 정규화와 대량 요청 시 처리 비용 측정
- 완료 기준:
  - [ ] 리팩토링 전후로 성능/안정성 지표 개선이 측정됨
  - [ ] 핵심 개선 항목별 회귀 테스트가 병렬 CI에서 안정적으로 통과

## 운영 메모

- 새 작업 추가 시 기존 항목과 중복 여부를 먼저 확인합니다.
- 작업 완료 시 본 문서에서 항목을 제거하고, 필요하면 `docs/CHANGELOG.md`에만 기록합니다.
